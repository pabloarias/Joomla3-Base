/*
 Copyright (c)2006-2017 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"==typeof akeeba)var akeeba={};var AKEEBA_ANALYZE_SUCCESS=1,AKEEBA_ANALYZE_WARNING=0,AKEEBA_ANALYZE_FAILURE=-1;
akeeba.System.documentReady(function(){var c=document.getElementById("log"),k=document.getElementById("analyze-log"),f=document.getElementById("download-log"),l=document.getElementById("output-plain");c.removeAttribute("disabled");akeeba.System.addEventListener(c,"change",function(){var a=this.options[this.selectedIndex].value;k.style.display="none";f.style.display="none";a&&(k.style.display="inline-block",f.style.display="inline-block")});akeeba.System.addEventListener(f,"click",function(a){a.preventDefault?
a.preventDefault():a.returnValue=!1;a=akeeba.System.data.get(this,"url");window.location=a.replace("[TAG]",c.options[c.selectedIndex].value)});akeeba.System.addEventListener(k,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;if(!0==akeeba.System.data.get(this,"started",!1))return!1;this.className="btn btn-inverse";akeeba.System.data.set(this,"started",!0);c.setAttribute("disabled","disabled");document.getElementById("stepper-complete").innerHTML="";l.style.display="none";(new AkeebaStepper({onBeforeStart:function(a){var c=
document.getElementById("log");a.data.log=c.options[c.selectedIndex].value},onComplete:function(a){var f=[],m=document.createElement("div");m.className="well";var n=document.createElement("div");n.className="row-striped";m.appendChild(n);a=JSON.parse(a.Results);for(var q=Joomla.JText._("COM_AKEEBA_ALICE_SUCCESSS"),r=Joomla.JText._("COM_AKEEBA_ALICE_WARNING"),s=Joomla.JText._("COM_AKEEBA_ALICE_ERROR"),p=0;p<a.length;p++){var d=a[p],g=document.createElement("div");g.className="row-fluid";g.style.width=
"99%";var b="label-success",e=q;d.result==AKEEBA_ANALYZE_WARNING?(e=r,b="label-warning"):d.result==AKEEBA_ANALYZE_FAILURE&&(e=s,b="label-important");var h=document.createElement("div");h.className="pull-left";h.innerHTML=d.check;g.appendChild(h);h=document.createElement("div");h.className="pull-right label "+b;h.innerHTML=e;g.appendChild(h);b=document.createElement("div");b.className="clearfix";g.appendChild(b);d.result!=AKEEBA_ANALYZE_SUCCESS&&(f.push({check:d.raw.check,error:d.raw.error}),b=document.createElement("div"),
b.className="help-block",g.appendChild(b),e=document.createElement("div"),e.innerHTML=d.error,b.appendChild(e),e=document.createElement("div"),e.innerHTML="<em>"+d.solution+"</em>",b.appendChild(e));n.appendChild(g)}document.getElementById("stepper-complete").appendChild(m);document.getElementById("stepper-progress-pane").style.display="none";document.getElementById("stepper-complete").style.display="block";k.className="btn btn-primary";akeeba.System.data.set(k,"started",!1);c.removeAttribute("disabled");
f&&akeeba.Ajax.ajax("index.php?option=com_akeeba&view=Alice&task=translate",{data:{keys:JSON.stringify(f)},success:function(a){a=a.match(/###(.*?)###/);if(void 0!==a[1]){a=JSON.parse(a[1]);for(var b="------ BEGIN OF ALICE RAW OUTPUT -----\n",c=0;c<a.length;c++)d=a[c],b+="[b]"+d.check+"[/b]\n"+d.error+"\n\n";l.querySelector("textarea").innerHTML=b+"------ END OF ALICE RAW OUTPUT -----\n";l.style.display="block"}}})}})).init();return!1});akeeba.System.triggerEvent(c,"change");document.getElementById("log").options[document.getElementById("log").selectedIndex].value&&
akeeba.System.triggerEvent(k,"click")}); //# sourceMappingURL=Alice.min.map
