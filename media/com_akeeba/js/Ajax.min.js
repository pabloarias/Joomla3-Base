/*
 Copyright (c)2006-2017 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Ajax&&(akeeba.Ajax={xhrSuccessStatus:{"0":200,1223:204},requestArray:[],processingQueue:!1});
akeeba.Ajax.ajax=function(b,a){"undefined"==typeof a&&(a=b,b=a.url);var c="undefined"==typeof a.type?"POST":a.type,c=c.toUpperCase(),e="undefined"==typeof a.data?{}:a.data,g=null,h="undefined"==typeof a.success?null:a.success,f="undefined"==typeof a.error?null:a.error;if(!("undefined"==typeof a.cache?0:a.url)){var k=(new Date).getTime()/1E3,l=parseInt(k,10);e._cacheBustingJunk=Math.round(1E3*(k-l))/1E3}"POST"==c||"PUT"==c?g=this.interpolateParameters(e):(b+=-1==b.indexOf("?")?"?":"&",b+=this.interpolateParameters(e));
var d=new XMLHttpRequest;d.open(c,b);("POST"==c||"PUT"==c)&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.onload=function(a){a=akeeba.Ajax.xhrSuccessStatus[d.status]||d.status;var b=d.statusText,c="text"!==(d.responseType||"text")||"string"!==typeof d.responseText?d.response:d.responseText;d.getAllResponseHeaders();200===a?null!=h&&akeeba.Ajax.triggerCallbacks(h,c,b,d):f&&akeeba.Ajax.triggerCallbacks(f,d,"error",null)};d.onerror=function(a){f&&akeeba.Ajax.triggerCallbacks(f,
d,"error",null)};window.attachEvent&&!window.addEventListener&&(d.onreadystatechange=function(){if(4===this.readyState){var a=akeeba.Ajax.xhrSuccessStatus[this.status]||this.status;if(200<=a&&400>a)d.onload();else d.onerror()}});d.ontimeout=function(){f&&akeeba.Ajax.triggerCallbacks(f,d,"timeout",null)};d.onabort=function(){f&&akeeba.Ajax.triggerCallbacks(f,d,"abort",null)};c="undefined"==typeof a.timeout?6E5:a.timeout;0<c&&(d.timeout=c);"undefined"!=typeof a.beforeSend&&!1===a.beforeSend(d,a)||d.send(g)};
akeeba.Ajax.enqueue=function(b,a){"undefined"==typeof a&&(a=b,b=a.url);a.url=b;akeeba.Ajax.requestArray.push(a);akeeba.Ajax.processQueue()};akeeba.Ajax.interpolateParameters=function(b){var a="",c;for(c in b)b.hasOwnProperty(c)&&(0<a.length&&(a+="&"),a+=encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return a};
akeeba.Ajax.triggerCallbacks=function(){var b=Array.prototype.slice.call(arguments),a=b.shift();if("function"==typeof a)return a.apply(null,b);if(a instanceof Array)for(var c=0;c<a.length;c++)if(!1===a[c].apply(null,b))return!1;return null};akeeba.Ajax.processQueueHelper=function(){akeeba.Ajax.processingQueue=!1;setTimeout("akeeba.Ajax.processQueue();",50)};
akeeba.Ajax.processQueue=function(){if(akeeba.Ajax.requestArray.length){if(!akeeba.Ajax.processingQueue){var b=akeeba.Ajax.requestArray.shift(),a=b.url,c="undefined"==typeof b.success?[]:b.success,e="undefined"==typeof b.error?[]:b.error;if("object"!=typeof c||!(c instanceof Array))c=[c];if("object"!=typeof e||!(e instanceof Array))e=[e];c.unshift(akeeba.Ajax.processQueueHelper);e.unshift(akeeba.Ajax.processQueueHelper);b.success=c;b.error=e;akeeba.Ajax.processingQueue=!0;akeeba.Ajax.ajax(a,b)}}else akeeba.Ajax.processingQueue=
!1}; //# sourceMappingURL=Ajax.min.map
