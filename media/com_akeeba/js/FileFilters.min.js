/*
 Copyright (c)2006-2020 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(d||"")+"_"+b++,d)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,f={next:function(){if(d<a.length){var e=d++;return{value:b(e,a[e]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,b,d,f){if(b){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in d||(d[e]={});d=d[e]}a=a[a.length-1];f=d[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.Fsfilters&&(akeeba.Fsfilters={currentRoot:null});
akeeba.Fsfilters.activeRootChanged=function(){var a=document.getElementById("active_root"),b={};b.root=a.options[a.selectedIndex].value;b.crumbs=[];b.node="";akeeba.Fsfilters.load(b)};akeeba.Fsfilters.activeTabRootChanged=function(){var a=document.getElementById("active_root");akeeba.Fsfilters.loadTab(a.options[a.selectedIndex].value)};akeeba.Fsfilters.load=function(a){a.verb="list";a=JSON.stringify(a);var b={};b.action=a;akeeba.System.doAjax(b,function(a){akeeba.Fsfilters.render(a)},null,!1,15E3)};
akeeba.Fsfilters.toggle=function(a,b,d,f){null==f&&(f=!0);if(null!=b){if(1==akeeba.System.data.get(b,"loading",!1))return;akeeba.System.data.set(b,"loading",!0);var e=b;f&&(e=b.querySelector("span"));akeeba.System.data.get(b,"iconClass","")||akeeba.System.data.set(b,"iconClass",e.className);e.className="ak-toggle-button ak-toggle-button-spinning akion-android-star-outline";var g=setInterval(function(){"undefined"===typeof e.className?clearInterval(g):-1!=e.className.indexOf("akion-android-star-outline")?
(akeeba.System.removeClass(e,"akion-android-star-outline"),akeeba.System.addClass(e,"akion-android-star")):-1!=e.className.indexOf("akion-android-star")&&(akeeba.System.addClass(e,"akion-android-star-outline"),akeeba.System.removeClass(e,"akion-android-star"))},250);akeeba.System.data.set(b,"akeebatimer",g)}var c={action:JSON.stringify(a)};akeeba.System.doAjax(c,function(c){if(null!=b){var g=akeeba.System.data.get(b,"akeebatimer");clearInterval(g);if(g=akeeba.System.data.get(b,"iconClass"))e.className=
g;akeeba.System.data.set(b,"iconClass",null);akeeba.System.data.set(b,"loading",null)}1==c.success?(null!=b&&f&&(1==c.newstate?(akeeba.System.removeClass(b,"akeeba-btn--grey"),akeeba.System.addClass(b,"akeeba-btn--orange")):(akeeba.System.removeClass(b,"akeeba-btn--orange"),akeeba.System.addClass(b,"akeeba-btn--grey"))),null!=d&&d(c,b)):(null!=d&&d(c,b),akeeba.System.modalErrorHandler(akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIERRORFILTER").replace("%s",a.node)))},function(a){if(null!=b){var c=
akeeba.System.data.get(b,"akeebatimer");clearInterval(c);e.className=akeeba.System.data.get(b,"iconClass");akeeba.System.data.set(b,"iconClass");akeeba.System.data.set(b,"loading")}akeeba.System.params.errorCallback(a)},!0,15E3)};
akeeba.Fsfilters.render=function(a){akeeba.Fsfilters.currentRoot=a.root;crumbs=akeeba.Fsfilters.renderCrumbs(a);var b=document.getElementById("folders");b.innerHTML="";0<a.crumbs.length&&akeeba.Fsfilters.renderParentFolderElement();if(0<Object.keys(a.folders).length){var d=["directories_all","skipdirs_all","skipfiles_all"],f=document.createElement("div");f.className="folder-header folder-container";for(var e=0;e<d.length;e++){var g=d[e],c=document.createElement("span");c.className="folder-icon-container akeeba-btn--mini akeeba-btn--grey";
c.setAttribute("title",'<div class="tooltip-arrow-up-leftaligned"></div><div>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+g.toUpperCase())+"</div>");c.setAttribute("data-akeeba-tooltip-position","right");var k="";switch(g){case "directories_all":k="akion-close-circled";c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-close-circled"></span>');break;case "skipdirs_all":k="akion-folder";c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-folder"></span>');
break;case "skipfiles_all":k="akion-document",c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-document"></span>')}akeeba.System.addEventListener(c,"click",function(a,c){return function(){if(-1!=a.className.indexOf("akeeba-btn--orange")){akeeba.System.removeClass(a,"akeeba-btn--orange");akeeba.System.addClass(a,"akeeba-btn--grey");var d=!1}else akeeba.System.removeClass(a,"akeeba-btn--grey"),akeeba.System.addClass(a,"akeeba-btn--orange"),d=!0;for(var e=1;e<b.children.length;e++){var g=
b.children[e].querySelector("span."+c),f=-1!=g.parentNode.className.indexOf("akeeba-btn--orange");!d&&!f||d&&f||akeeba.System.triggerEvent(g,"click")}}}(c,k));f.appendChild(c);akeeba.Tooltip.simpleTooltip(c)}c=document.createElement("span");c.className="folder-name";c.innerHTML='<span class="pull-left akion-arrow-down-a"></span>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLDIRS");f.appendChild(c);b.appendChild(f)}for(var h in a.folders){if(!a.folders.hasOwnProperty(h))return;f=a.folders[h];
uielement=document.createElement("div");uielement.className="folder-container";d=["directories","skipdirs","skipfiles"];for(e=0;e<d.length;e++){g=d[e];c=document.createElement("span");c.className="akeeba-btn--mini akeeba-btn--grey folder-icon-container";c.setAttribute("title",'<div class="tooltip-arrow-up-leftaligned"></div><div>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+g.toUpperCase())+"</div>");switch(g){case "directories":c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-close-circled"></span>');
break;case "skipdirs":c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-folder"></span>');break;case "skipfiles":c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-document"></span>')}c.setAttribute("data-akeeba-tooltip-position","right");akeeba.Tooltip.simpleTooltip(c);switch(f[g]){case 2:akeeba.System.removeClass(c,"akeeba-btn--grey");akeeba.System.addClass(c,"akeeba-btn--red");break;case 1:akeeba.System.removeClass(c,"akeeba-btn--grey"),akeeba.System.addClass(c,
"akeeba-btn--orange");case 0:akeeba.System.addEventListener(c,"click",function(c,b,d){return function(){akeeba.Fsfilters.toggle({root:a.root,crumbs:crumbs,node:c,filter:b,verb:"toggle"},d)}}(h,g,c))}uielement.appendChild(c)}c=document.createElement("span");c.textContent=h;c.className="folder-name";akeeba.System.addEventListener(c,"click",function(c){return function(){var b=document.createElement("img");b.setAttribute("src",akeeba.System.getOptions("akeeba.Fsfilters.loadingGif",""));b.setAttribute("width",
16);b.setAttribute("height",11);b.setAttribute("border",0);b.setAttribute("alt","Loading...");b.style.marginTop="3px";b.style.marginLeft="5px";this.appendChild(b);akeeba.Fsfilters.load({root:a.root,crumbs:crumbs,node:c})}}(h));uielement.appendChild(c);b.appendChild(uielement)}h=document.getElementById("files");h.innerHTML="";0<Object.keys(a.files).length&&(g=document.createElement("div"),g.className="file-header file-container",c=document.createElement("span"),c.className="file-icon-container akeeba-btn--mini akeeba-btn--grey",
c.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-close-circled"></span>'),c.setAttribute("title",'<div class="tooltip-arrow-up-leftaligned"></div><div>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_FILES_ALL")+"</div>"),c.setAttribute("data-akeeba-tooltip-position","right"),akeeba.Tooltip.simpleTooltip(c),akeeba.System.addEventListener(c,"click",function(a){return function(){if(-1!=this.className.indexOf("akeeba-btn--orange")){akeeba.System.removeClass(this,"akeeba-btn--orange");
akeeba.System.addClass(this,"akeeba-btn--grey");var a=!1}else akeeba.System.removeClass(this,"akeeba-btn--grey"),akeeba.System.addClass(this,"akeeba-btn--orange"),a=!0;for(var c=document.getElementById("files"),b=1;b<c.children.length;b++){var d=c.children[b].querySelector("span.akion-close-circled"),e=-1!=d.parentNode.className.indexOf("akeeba-btn--orange");!a&&!e||a&&e||akeeba.System.triggerEvent(d,"click")}}}(c)),g.appendChild(c),c=document.createElement("span"),c.className="file-name",c.innerHTML=
'<span class="pull-left akion-arrow-down-a"></span>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_APPLYTOALLFILES"),g.appendChild(c),h.appendChild(g));for(fileName in a.files)if(a.files.hasOwnProperty(fileName)){f=a.files[fileName];uielement=document.createElement("div");uielement.className="file-container";d=["files"];for(e=0;e<d.length;e++){g=d[e];c=document.createElement("span");c.className="file-icon-container akeeba-btn--mini akeeba-btn--grey";switch(g){case "files":c.insertAdjacentHTML("beforeend",
'<span class="ak-toggle-button akion-close-circled"></span>')}c.setAttribute("title",'<div class="tooltip-arrow-up-leftaligned"></div><div>'+akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+g.toUpperCase())+"</div>");c.setAttribute("data-akeeba-tooltip-position","right");akeeba.Tooltip.simpleTooltip(c);switch(f[g]){case 2:akeeba.System.removeClass(c,"akeeba-btn--grey");akeeba.System.addClass(c,"akeeba-btn--red");break;case 1:akeeba.System.removeClass(c,"akeeba-btn--grey"),akeeba.System.addClass(c,
"akeeba-btn--orange");case 0:akeeba.System.addEventListener(c,"click",function(c,b,d){return function(){akeeba.Fsfilters.toggle({root:a.root,crumbs:crumbs,node:c,filter:b,verb:"toggle"},d)}}(fileName,g,c))}uielement.appendChild(c)}c=document.createElement("span");c.className="file-name";c.textContent=fileName;uielement.appendChild(c);c=document.createElement("span");c.className="file-size";c.textContent=f.size;uielement.appendChild(c);h.appendChild(uielement)}};
akeeba.Fsfilters.nuke=function(){var a={action:JSON.stringify({root:akeeba.Fsfilters.currentRoot,verb:"reset"})};akeeba.System.doAjax(a,function(a){akeeba.Fsfilters.render(a)},null,!1,15E3)};akeeba.Fsfilters.loadTab=function(a){a={action:JSON.stringify({verb:"tab",root:a})};akeeba.System.doAjax(a,function(a){akeeba.Fsfilters.renderTab(a)},null,!1,15E3)};
akeeba.Fsfilters.addRow=function(a,b){var d=akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_TYPE_"+a.type.toUpperCase());null==d&&(d=a.type);var f=document.createElement("tr");f.className="ak_filter_row";var e=document.createElement("td");f.appendChild(e);e.className="ak_filter_type";e.insertAdjacentHTML("beforeend",d);d=document.createElement("td");f.appendChild(d);d.className="ak_filter_item";e=document.createElement("span");d.appendChild(e);e.className="ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--red deletecontainer";
akeeba.System.addEventListener(e,"click",function(){if(""==a.node){var b=this.parentNode.parentNode;b.parentNode.removeChild(b)}else b=document.getElementById("active_root"),akeeba.Fsfilters.toggle({root:b.options[b.selectedIndex].value,crumbs:[],node:a.node,filter:a.type,verb:"toggle"},this,function(a,b){a.success&&(a=b.parentNode.parentNode,a.parentNode.removeChild(a))})});e.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-trash-a deletebutton"></span>');e=document.createElement("span");
d.appendChild(e);e.className="ak_filter_tab_icon_container akeeba-btn--mini akeeba-btn--teal editcontainer";akeeba.System.addEventListener(e,"click",function(){if(null==this.parentNode.querySelector("input")){this.parentNode.querySelector("span.ak_filter_name").style.display="none";var b=document.createElement("input");b.setAttribute("type","text");b.setAttribute("size",60);b.value=this.parentNode.querySelector("span.ak_filter_name").textContent;this.parentNode.appendChild(b);akeeba.System.addEventListener(b,
"blur",function(){var b=this.value,d=this;if(""==b)akeeba.System.triggerEvent(d.parentNode.querySelector("span.deletebutton"),"click");else{var e=document.getElementById("active_root");e={root:e.options[e.selectedIndex].value,crumbs:[],old_node:a.node,new_node:b,filter:a.type,verb:"swap"};var f=d.parentNode.querySelector("span.editcontainer");akeeba.Fsfilters.toggle(e,f,function(c,e){c=d.parentNode.querySelector("span.ak_filter_name");c.style.display="inline-block";c.textContent=b;d.parentNode.removeChild(d);
a.node=b})}});b.focus()}});e.insertAdjacentHTML("beforeend",'<span class="ak-toggle-button akion-edit editbutton"></span>');e=document.createElement("span");e.className="ak_filter_name";e.textContent=a.node;d.appendChild(e);b.appendChild(f)};
akeeba.Fsfilters.addNew=function(a){akeeba.Fsfilters.addRow({type:a,node:""},document.getElementById("ak_list_table").children[1]);a=document.getElementById("ak_list_table").children[1].children;akeeba.System.triggerEvent(a[a.length-1].querySelector("span.editcontainer"),"click")};akeeba.Fsfilters.renderTab=function(a){var b=document.getElementById("ak_list_contents");b.innerHTML="";for(var d=0;d<a.length;d++)akeeba.Fsfilters.addRow(a[d],b)};
akeeba.Fsfilters.renderCrumbs=function(a){var b=[],d=[akeeba.System.Text._("COM_AKEEBA_FILEFILTERS_LABEL_UIROOT"),a.root,[],""];b.push(d);var f=0;if(0<a.crumbs.length){var e=[];for(f=0;f<a.crumbs.length;f++){var g=a.crumbs[f];d=[g,a.root,e.slice(0),g];b.push(d);e.push(g)}}a=document.getElementById("ak_crumbs");a.innerHTML="";g=null;for(f=0;f<b.length;f++){g=b[f];d=document.createElement("li");var c=document.createElement("a");c.setAttribute("href","javascript:");g[0]=g[0].replace("&lt;","<").replace("&gt;",
">");c.textContent=g[0];akeeba.System.addEventListener(c,"click",function(a){return function(){var b=document.createElement("img");b.setAttribute("src",akeeba.System.getOptions("akeeba.Fsfilters.loadingGif",""));b.setAttribute("width",16);b.setAttribute("height",11);b.setAttribute("border",0);b.setAttribute("alt","Loading...");b.style.marginTop="5px";b.style.marginLeft="5px";this.appendChild(b);akeeba.Fsfilters.load({root:a[1],crumbs:a[2],node:a[3]})}}(g));d.appendChild(c);g=document.createElement("span");
g.textContent="/";d.appendChild(g);a.appendChild(d)}return e};
akeeba.Fsfilters.renderParentFolderElement=function(){var a=document.getElementById("folders"),b=document.createElement("div");akeeba.System.addClass(b,"folder-container");b.insertAdjacentHTML("beforeend",'<span class="folder-padding"></span>');b.insertAdjacentHTML("beforeend",'<span class="folder-padding"></span>');b.insertAdjacentHTML("beforeend",'<span class="folder-padding"></span>');b.insertAdjacentHTML("beforeend",'<span class="akion-arrow-up-a"></span>');var d=document.createElement("span");
d.className="folder-name folder-up";var f=document.getElementById("ak_crumbs").children;d.textContent="("+f[f.length-2].querySelector("a").textContent+")";akeeba.System.addEventListener(d,"click",function(){var a=document.getElementById("ak_crumbs").children;akeeba.System.triggerEvent(a[a.length-2].querySelector("a"),"click")});b.appendChild(d);a.appendChild(b)};
akeeba.System.documentReady(function(){var a=akeeba.System.getOptions("akeeba.FileFilters.guiData",null);null!==a&&("list"===akeeba.System.getOptions("akeeba.FileFilters.viewType")?(akeeba.Fsfilters.render(a),akeeba.System.addEventListener("active_root","change",akeeba.Fsfilters.activeRootChanged)):(akeeba.Fsfilters.renderTab(a),akeeba.System.addEventListener("active_root","change",akeeba.Fsfilters.activeTabRootChanged)),akeeba.System.addEventListener("comAkeebaFileFiltersNuke","click",function(){akeeba.Fsfilters.nuke();
return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddDirectories","click",function(){akeeba.Fsfilters.addNew("directories");return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddSkipfiles","click",function(){akeeba.Fsfilters.addNew("skipfiles");return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddSkipdirs","click",function(){akeeba.Fsfilters.addNew("skipdirs");return!1}),akeeba.System.addEventListener("comAkeebaFileFiltersAddFiles","click",function(){akeeba.Fsfilters.addNew("files");
return!1}))}); //# sourceMappingURL=FileFilters.min.map
