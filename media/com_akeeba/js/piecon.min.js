(function(){var f={},k=null,l=null,e=null,g=null,h={},m={color:"#ff0084",background:"#bbb",shadow:"#fff",fallback:!1},q=1<window.devicePixelRatio,d=function(){var c=navigator.userAgent.toLowerCase();return function(a){return-1!==c.indexOf(a)}}(),r=d("msie");d("chrome");d("chrome")||d("safari");var s=d("safari")&&!d("chrome");d("mozilla")&&!d("chrome")&&d("safari");var n=function(c){for(var a=Array.prototype.slice.call(document.getElementsByTagName("link"),0),b=document.getElementsByTagName("head")[0],
d=0,e=a.length;d<e;d++)("icon"===a[d].getAttribute("rel")||"shortcut icon"===a[d].getAttribute("rel"))&&b.removeChild(a[d]);a=document.createElement("link");a.type="image/x-icon";a.rel="icon";a.href=c;document.getElementsByTagName("head")[0].appendChild(a)},p=function(){g||(g=document.createElement("canvas"),q?(g.width=32,g.height=32):(g.width=16,g.height=16));return g};f.setOptions=function(c){h={};for(var a in m)h[a]=c.hasOwnProperty(a)?c[a]:m[a];return this};f.setProgress=function(c){e||(e=document.title);
if(!l||!k){var a;a:{a=document.getElementsByTagName("link");for(var b=0,d=a.length;b<d;b++)if("icon"===a[b].getAttribute("rel")||"shortcut icon"===a[b].getAttribute("rel")){a=a[b];break a}a=!1}l=k=a?a.getAttribute("href"):"/favicon.ico"}if(!isNaN(parseFloat(c))&&isFinite(c))!p().getContext||r||s||!0===h.fallback?document.title=0<c?"("+c+"%) "+e:e:("force"===h.fallback&&(document.title=0<c?"("+c+"%) "+e:e),a=p(),b=a.getContext("2d"),c=c||0,b&&(b.clearRect(0,0,a.width,a.height),b.beginPath(),b.moveTo(a.width/
2,a.height/2),b.arc(a.width/2,a.height/2,Math.min(a.width/2,a.height/2),0,2*Math.PI,!1),b.fillStyle=h.shadow,b.fill(),b.beginPath(),b.moveTo(a.width/2,a.height/2),b.arc(a.width/2,a.height/2,Math.min(a.width/2,a.height/2)-2,0,2*Math.PI,!1),b.fillStyle=h.background,b.fill(),0<c&&(b.beginPath(),b.moveTo(a.width/2,a.height/2),b.arc(a.width/2,a.height/2,Math.min(a.width/2,a.height/2)-2,-0.5*Math.PI,(-0.5+2*c/100)*Math.PI,!1),b.lineTo(a.width/2,a.height/2),b.fillStyle=h.color,b.fill()),n(a.toDataURL())));
else return!1};f.reset=function(){e&&(document.title=e);l&&(k=l,n(k))};f.setOptions(m);"function"===typeof define&&define.amd?define(f):"undefined"!==typeof module?module.exports=f:window.Piecon=f})(); //# sourceMappingURL=piecon.min.map
