!function(a,b,c,d){var e=function(e){function f(b){$div=b.find(".sitemapitem-priority"),$input=a("<select>"),$opt01=a("<option>").attr("value","0.1").text("0.1").appendTo($input),$opt02=a("<option>").attr("value","0.2").text("0.2").appendTo($input),$opt03=a("<option>").attr("value","0.3").text("0.3").appendTo($input),$opt04=a("<option>").attr("value","0.4").text("0.4").appendTo($input),$opt05=a("<option>").attr("value","0.5").text("0.5").appendTo($input),$opt06=a("<option>").attr("value","0.6").text("0.6").appendTo($input),$opt07=a("<option>").attr("value","0.7").text("0.7").appendTo($input),$opt08=a("<option>").attr("value","0.8").text("0.8").appendTo($input),$opt09=a("<option>").attr("value","0.9").text("0.9").appendTo($input),$opt10=a("<option>").attr("value","1.0").text("1.0").appendTo($input),$input.val($div.data("value")),$div.html(""),$div.append($input),$input.on("change",function(){$this=a(this),$this.parent().data("value",$this.val()),$this.parents("tr").addClass("updated")})}function g(a){$div=a.find(".sitemapitem-priority"),$div.text($div.data("value"))}function h(b){$div=b.find(".sitemapitem-changefreq"),$input=a("<select>"),$opt01=a("<option>").attr("value","hourly").text(e.COM_OSMAP_HOURLY).appendTo($input),$opt02=a("<option>").attr("value","daily").text(e.COM_OSMAP_DAILY).appendTo($input),$opt03=a("<option>").attr("value","weekly").text(e.COM_OSMAP_WEEKLY).appendTo($input),$opt04=a("<option>").attr("value","monthly").text(e.COM_OSMAP_MONTHLY).appendTo($input),$opt05=a("<option>").attr("value","yearly").text(e.COM_OSMAP_YEARLY).appendTo($input),$opt06=a("<option>").attr("value","never").text(e.COM_OSMAP_NEVER).appendTo($input),$input.val($div.data("value")),$div.html(""),$div.append($input),$input.change(function(b){$this=a(this),$this.parent().data("value",$this.val()),$this.parents("tr").addClass("updated")})}function i(a){$div=a.find(".sitemapitem-changefreq"),$div.text($div.find("option:selected").text())}a("#itemList .sitemapitem").hover(function(b){"TD"===b.target.tagName&&($tr=a(b.currentTarget),$currentSelection=a("#itemList .selected"),$tr!=$currentSelection&&($currentSelection.removeClass("selected"),g($currentSelection),i($currentSelection),$tr.addClass("selected"),f($tr),h($tr)))}),a("#itemList .sitemapitem-published").click(function(b){var c=a(this),d=1==c.data("value")?0:1,f=1==d?"publish":"unpublish",g=c.find("span");c.data("value",d),c.parents(".sitemapitem").addClass("updated"),g.attr("class",""),g.addClass("icon-"+f),g.attr("title",1==d?e.COM_OSMAP_TOOLTIP_CLICK_TO_UNPUBLISH:e.COM_OSMAP_TOOLTIP_CLICK_TO_PUBLISH),g.tooltip("destroy"),g.tooltip()}),b.submitbutton=function(e){if("sitemapitems.save"===e||"sitemapitems.apply"===e){var f=a("#update-data"),g=a(".sitemapitem.updated"),h=[];f.val(""),g.each(function(){$tr=a(this),h.push({uid:$tr.data("uid"),settings_hash:$tr.data("settings-hash"),published:$tr.find(".sitemapitem-published").data("value"),priority:$tr.find(".sitemapitem-priority").data("value"),changefreq:$tr.find(".sitemapitem-changefreq").data("value")})}),f.val(d.stringify(h))}b.submitform(e,c.getElementById("adminForm"))},setTimeout(function(){a(".osmap-loading").remove()},1e3)};a.fn.osmap={loadSitemapItems:function(b){var c=b.baseUri.replace(/\/$/,"");c+="/index.php?option=com_osmap&view=adminsitemapitems&tmpl=component&id="+b.sitemapId,""!==b.language&&(c+="&lang="+b.language),a.ajax({url:c,async:!0,success:function(c){a(b.container).html(c),e(b.lang),a(".hasTooltip").tooltip()}})}}}(jQuery,Joomla,document,JSON);
