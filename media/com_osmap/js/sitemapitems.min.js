(function(c,e,a,d){var b=function(j){function f(k){$div=k.find(".sitemapitem-priority");$input=c("<select>");$opt01=c("<option>").attr("value","0.1").text("0.1").appendTo($input);$opt02=c("<option>").attr("value","0.2").text("0.2").appendTo($input);$opt03=c("<option>").attr("value","0.3").text("0.3").appendTo($input);$opt04=c("<option>").attr("value","0.4").text("0.4").appendTo($input);$opt05=c("<option>").attr("value","0.5").text("0.5").appendTo($input);$opt06=c("<option>").attr("value","0.6").text("0.6").appendTo($input);$opt07=c("<option>").attr("value","0.7").text("0.7").appendTo($input);$opt08=c("<option>").attr("value","0.8").text("0.8").appendTo($input);$opt09=c("<option>").attr("value","0.9").text("0.9").appendTo($input);$opt10=c("<option>").attr("value","1.0").text("1.0").appendTo($input);$input.val($div.data("value"));$div.html("");$div.append($input);$input.on("change",function(){$this=c(this);$this.parent().data("value",$this.val());$this.parents("tr").addClass("updated")})}function g(k){$div=k.find(".sitemapitem-priority");$div.text($div.data("value"))}function h(k){$div=k.find(".sitemapitem-changefreq");$input=c("<select>");$opt01=c("<option>").attr("value","hourly").text(j.COM_OSMAP_HOURLY).appendTo($input);$opt02=c("<option>").attr("value","daily").text(j.COM_OSMAP_DAILY).appendTo($input);$opt03=c("<option>").attr("value","weekly").text(j.COM_OSMAP_WEEKLY).appendTo($input);$opt04=c("<option>").attr("value","monthly").text(j.COM_OSMAP_MONTHLY).appendTo($input);$opt05=c("<option>").attr("value","yearly").text(j.COM_OSMAP_YEARLY).appendTo($input);$opt06=c("<option>").attr("value","never").text(j.COM_OSMAP_NEVER).appendTo($input);$input.val($div.data("value"));$div.html("");$div.append($input);$input.change(function(l){$this=c(this);$this.parent().data("value",$this.val());$this.parents("tr").addClass("updated")})}function i(k){$div=k.find(".sitemapitem-changefreq");$div.text($div.find("option:selected").text())}c("#itemList .sitemapitem").hover(function(k){if(k.target.tagName==="TD"){$tr=c(k.currentTarget);$currentSelection=c("#itemList .selected");if($tr!=$currentSelection){$currentSelection.removeClass("selected");g($currentSelection);i($currentSelection);$tr.addClass("selected");f($tr);h($tr)}}});c("#itemList .sitemapitem-published").click(function(m){var o=c(this),n=o.data("value")==1?0:1,l=n==1?"publish":"unpublish",k=o.find("span");o.data("value",n);o.parents(".sitemapitem").addClass("updated");k.attr("class","");k.addClass("icon-"+l);k.attr("title",n==1?j.COM_OSMAP_TOOLTIP_CLICK_TO_UNPUBLISH:j.COM_OSMAP_TOOLTIP_CLICK_TO_PUBLISH);k.tooltip("destroy");k.tooltip()});e.submitbutton=function(l){if(l==="sitemapitems.save"||l==="sitemapitems.apply"){var k=c("#update-data"),n=c(".sitemapitem.updated"),m=[];k.val("");n.each(function(){$tr=c(this);m.push({uid:$tr.data("uid"),settings_hash:$tr.data("settings-hash"),published:$tr.find(".sitemapitem-published").data("value"),priority:$tr.find(".sitemapitem-priority").data("value"),changefreq:$tr.find(".sitemapitem-changefreq").data("value")})});k.val(d.stringify(m))}e.submitform(l,a.getElementById("adminForm"))};setTimeout(function(){c(".osmap-loading").remove()},1000)};c.fn.osmap={loadSitemapItems:function(g){var f=g.baseUri.replace(/\/$/,"");f+="/index.php?option=com_osmap&view=adminsitemapitems&tmpl=component&id="+g.sitemapId;if(g.language!==""){f+="&lang="+g.language}c.ajax({url:f,async:true,success:function(h){c(g.container).html(h);b(g.lang);c(".hasTooltip").tooltip()}})}}})(jQuery,Joomla,document,JSON);